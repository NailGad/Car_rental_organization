# ‚úÖ –≠—Ç–∞–ø 4 –∑–∞–≤–µ—Ä—à–µ–Ω: –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. **DataExporter - –ö–ª–∞—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**

–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ JSON —Ñ–æ—Ä–º–∞—Ç:

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `exportToJson()` - —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞—Ä–µ–Ω–¥—ã, —à—Ç—Ä–∞—Ñ—ã)
- `exportCarsToJson()` - —ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- `exportRentalsToJson()` - —ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –∞—Ä–µ–Ω–¥
- `exportUsersToJson()` - —ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `exportFinesToJson()` - —ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ —à—Ç—Ä–∞—Ñ–æ–≤
- `exportReportToJson()` - —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥

#### **–§–æ—Ä–º–∞—Ç JSON:**
```json
{
  "metadata": {
    "application": "Car Rental Agency",
    "version": "1.0",
    "export_date": "2025-01-15",
    "export_time": "12:30:45"
  },
  "cars": [...],
  "users": [...],
  "rentals": [...],
  "fines": [...]
}
```

### 2. **DataImporter - –ö–ª–∞—Å—Å –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**

–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON —Ñ–∞–π–ª–æ–≤:

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `importFromJson()` - –∏–º–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- `importCarsFromJson()` - –∏–º–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- `importRentalsFromJson()` - –∏–º–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –∞—Ä–µ–Ω–¥
- `importUsersFromJson()` - –∏–º–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `importFinesFromJson()` - –∏–º–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ —à—Ç—Ä–∞—Ñ–æ–≤

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ ImportResult:**
- `carsImported` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- `usersImported` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `rentalsImported` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–µ–Ω–¥
- `finesImported` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à—Ç—Ä–∞—Ñ–æ–≤
- `errors` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- `errorMessages` - —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

#### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–ø—É—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π (–æ–ø—Ü–∏—è `skipExisting`)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–º–ø–æ—Ä—Ç–∞

### 3. **ImportExportDialog - –î–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞**

–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–º–ø–æ—Ä—Ç–æ–º/—ç–∫—Å–ø–æ—Ä—Ç–æ–º:

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- **–≠–∫—Å–ø–æ—Ä—Ç:**
  - –í—ã–±–æ—Ä —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
  - –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –ø–µ—Ä–∏–æ–¥–∞
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
  
- **–ò–º–ø–æ—Ä—Ç:**
  - –í—ã–±–æ—Ä —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
  - –ò–º–ø–æ—Ä—Ç –∏–∑ JSON —Ñ–∞–π–ª–∞
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–º–ø–æ—Ä—Ç–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞**

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞ –≤ `DatabaseManager`:

#### **–ü–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π:**
- `searchCars()` - –ø–æ–∏—Å–∫ –ø–æ –º–∞—Ä–∫–µ, –º–æ–¥–µ–ª–∏ –∏ —Å—Ç–∞—Ç—É—Å—É
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (LIKE)

#### **–ü–æ–∏—Å–∫ –∞—Ä–µ–Ω–¥:**
- `searchRentalsByClientName()` - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞
- `searchRentalsByDate()` - –ø–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ
- `searchRentalsByCarBrand()` - –ø–æ–∏—Å–∫ –ø–æ –º–∞—Ä–∫–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

```
utils/
‚îú‚îÄ‚îÄ dataexporter.h/cpp      - –ö–ª–∞—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îî‚îÄ‚îÄ dataimporter.h/cpp      - –ö–ª–∞—Å—Å –∏–º–ø–æ—Ä—Ç–∞

ui/
‚îî‚îÄ‚îÄ importexportdialog.h/cpp - –î–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞
```

---

## üîÑ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### –ü—Ä–∏–º–µ—Ä 1: –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
```cpp
DataExporter exporter(&DatabaseManager::getInstance());
exporter.exportToJson("backup.json");
```

### –ü—Ä–∏–º–µ—Ä 2: –ò–º–ø–æ—Ä—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
```cpp
DataImporter importer(&DatabaseManager::getInstance());
ImportResult result = importer.importCarsFromJson("cars.json", true);
qDebug() << "–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π:" << result.carsImported;
```

### –ü—Ä–∏–º–µ—Ä 3: –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞
```cpp
DataExporter exporter(&DatabaseManager::getInstance());
QDate start(2025, 1, 1);
QDate end(2025, 1, 31);
exporter.exportReportToJson("report_january.json", start, end);
```

### –ü—Ä–∏–º–µ—Ä 4: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
```cpp
// –ü–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π Toyota
QList<Car> cars = dbManager.searchCars("Toyota", "", CarStatus::Available);

// –ü–æ–∏—Å–∫ –∞—Ä–µ–Ω–¥ –ø–æ –∫–ª–∏–µ–Ω—Ç—É
QList<Rental> rentals = dbManager.searchRentalsByClientName("–ò–≤–∞–Ω");

// –ü–æ–∏—Å–∫ –∞—Ä–µ–Ω–¥ –ø–æ –¥–∞—Ç–µ
QList<Rental> rentals = dbManager.searchRentalsByDate(QDate(2025, 1, 15));
```

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü–∞—Ä–æ–ª–∏ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- **–ì–∏–±–∫–æ—Å—Ç—å:** –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞/–∏–º–ø–æ—Ä—Ç–∞
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:** –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

–î–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- –ú–µ–Ω—é "–§–∞–π–ª" ‚Üí "–ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞

---

## ‚úÖ –í—Å–µ —ç—Ç–∞–ø—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã!

–ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:

1. ‚úÖ **–≠—Ç–∞–ø 1:** –§—É–Ω–¥–∞–º–µ–Ω—Ç –ø—Ä–æ–µ–∫—Ç–∞ (–º–æ–¥–µ–ª–∏, –ë–î)
2. ‚úÖ **–≠—Ç–∞–ø 2:** –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Strategy, Observer)
3. ‚úÖ **–≠—Ç–∞–ø 3:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. ‚úÖ **–≠—Ç–∞–ø 4:** –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ –ú–∏–Ω–∏–º—É–º 5 –∫–ª–∞—Å—Å–æ–≤ (User, Car, Rental, Fine, ReportManager, –∏ –¥—Ä.)
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –î–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Strategy, Observer)
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (SQLite)
- ‚úÖ –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (JSON)
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –∑–∞–¥–∞–Ω–∏—è

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞—â–∏—Ç–µ!** üéâ

